(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5291)}])},5291:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var i=n(5893),r=n(7294),o=n(1163),a=n(2003),c=n.n(a),s=n(6291),l=()=>{let[e,t]=(0,r.useState)("Not logged in"),[n,a]=(0,r.useState)(!1),c=(0,o.useRouter)(),l=async()=>{try{a(!0),t("Connecting to Internet Identity...");let e=await s.LY.create(),n=async()=>{let n=e.getIdentity().getPrincipal().toString();console.log("Authentication successful. Principal:",n),t("Logged in with principal: ".concat(n)),c.push("/dashboard")};await new Promise((i,r)=>{e.login({identityProvider:"https://identity.ic0.app",maxTimeToLive:BigInt(6048e11),onSuccess:()=>{n(),i(!0)},onError:e=>{console.error("Login failed:",e),t("Login failed: ".concat(e)),r(Error("string"==typeof e?e:"Login failed"))}})})}catch(n){console.error("Login failed:",n);let e=n instanceof Error?n.message:"Unknown error occurred";t("Login failed: ".concat(e))}finally{a(!1)}};return(0,i.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center py-2",children:(0,i.jsxs)("main",{className:"flex w-full flex-1 flex-col items-center justify-center px-20 text-center",children:[(0,i.jsx)("h1",{className:"mb-8 text-4xl font-bold",children:"Welcome to LLM Marketplace"}),(0,i.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,i.jsx)("button",{className:"rounded-lg px-6 py-3 font-semibold text-white ".concat(n?"cursor-not-allowed bg-gray-400":"bg-blue-600 hover:bg-blue-700"," "),onClick:l,disabled:n,children:n?"Connecting...":"Login with Internet Identity"}),e&&(0,i.jsx)("p",{className:"mt-4 text-gray-600",children:e})]}),(0,i.jsx)("div",{className:"mt-8 text-center",children:(0,i.jsxs)("p",{className:"text-sm text-gray-500",children:["Don't have an Internet Identity?"," ",(0,i.jsx)("a",{href:"https://identity.ic0.app/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:"Create one here"})]})})]})})};function d(){let e=(0,o.useRouter)();return(0,r.useEffect)(()=>{(async()=>{let t=await s.LY.create();await t.isAuthenticated()&&(console.log("User is already authenticated, redirecting to dashboard..."),e.push("/dashboard"))})()},[e]),(0,i.jsx)("div",{className:c().container,children:(0,i.jsx)(l,{})})}},2003:function(e){e.exports={container:"Home_container__9OuOz",main:"Home_main__2uIek",title:"Home_title__YEn0u",logo:"Home_logo__ZEOng",footer:"Home_footer__wJNRn"}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);